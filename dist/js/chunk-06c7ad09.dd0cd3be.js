(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-06c7ad09"],{1122:function(t,n,i){"use strict";var e=i("da72");i.n(e).a},"80bb":function(t,n,i){"use strict";i.r(n);var e={name:"down-ximalaya",components:{},data:function(){return{loading:"",disList:!1,disDwon:!0,data:[],page:1,idarr:["f"],index:0,audioId:"8258341"}},computed:{},props:{},created:function(){},methods:{downFun:function(){this.downloadFun(this.index),this.disDwon=!0},listFun:function(){this.loading=this.$loading({lock:!0,text:"加载音频列表"}),this.disList=!0,this.initList()},downloadFun:function(t,n){var i=this,e=this.data[t];this.index++;var s=new XMLHttpRequest;s.open("GET",e.trackInfo.playPath,!0),s.responseType="blob",s.onload=function(t){var a=t.target.responseURL;a=a.substring(a.lastIndexOf(".")),download(s.response,e.trackInfo.title+a,t.currentTarget.response.type),i.index>=10&&!n&&i.downloadFun(i.index),e.is=!0,i.$notify({title:"成功",message:e.trackInfo.title,type:"success"})},s.send(),this.index<10&&!n&&this.downloadFun(this.index)},initList:function(){var t=this;this.$axios("https://m.ximalaya.com/m-revision/common/album/queryAlbumTrackRecordsByPage",{albumId:this.audioId,pageSize:10,page:this.page}).then(function(n){for(var i=n.data.data.trackDetailInfos,e=0;e<i.length;e++)i[e].is=!1,t.data.push(i[e]);0!=i.length?(t.page++,setTimeout(function(){t.initList()},100)):(t.loading.close(),t.disDwon=!1)}).catch(function(t){})}},mounted:function(){},watch:{},destroyed:function(){}},s=(i("1122"),i("6691")),a=Object(s.a)(e,function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("el-container",{ref:"minHeight",staticClass:"bg"},[i("el-main",[i("vue-particles",{attrs:{color:"#dedede"}}),i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:12,xs:8}},[i("el-input",{attrs:{disabled:t.disDwon&&t.disList,placeholder:"输入ID"},model:{value:t.audioId,callback:function(n){t.audioId=n},expression:"audioId"}})],1),i("el-col",{attrs:{span:12,xs:16}},[i("el-button",{attrs:{disabled:t.disList,plain:"",type:"primary"},on:{click:t.listFun}},[t._v("展示列表")]),i("el-button",{attrs:{disabled:t.disDwon,plain:"",type:"success"},on:{click:t.downFun}},[t._v("\n                    开始下载\n                ")])],1)],1),t.data.length>0?i("el-row",{attrs:{gutter:10}},[i("el-divider",{attrs:{"content-position":"left"}},[t._v("音频列表")]),t._l(t.data,function(n,e){return i("el-col",{key:e,staticClass:"list",attrs:{lg:8,md:12,sm:24,xl:8,xs:24}},[i("div",{staticClass:"text",style:{color:n.is?"#7eb05b !important":"#000"},attrs:{title:"点击下载"+n.trackInfo.title},on:{click:function(n){return t.downloadFun(e,"singleDown")}}},[i("span",[t._v(" "+t._s(e+1)+"-")]),t._v(" "+t._s(n.trackInfo.title)+"\n                ")])])})],2):t._e()],1)],1)},[],!1,null,"403e2f5f",null);n.default=a.exports},da72:function(t,n,i){}}]);